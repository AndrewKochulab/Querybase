<!DOCTYPE html>
<html>
<head>
	<script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
	<script src="querybase.js"></script>
  <meta charset="utf-8">
  <title>JS Bin</title>
</head>
<body>

	<button id="btnSeed">Seed</button>

	<script>
		var ref = new Firebase("https://flamethrow.firebaseio.com/");
		var peopleRef = ref.child("people");
		var indexRef = ref.child('people_index');
		var ageIndexRef = indexRef.child('age');
		var ageLocationIndexRef = indexRef.child('age_location');
		var queryRef = new Querybase(peopleRef, ['name', 'age', 'location', 'weight']);
		var queryUtils = new QuerybaseUtils();
		
		btnSeed.addEventListener('click', function(e) {
			peopleRef.remove();
			addPerson('David', 27, 'SF', 125);
			addPerson('Shannon', 28, 'SF', 115);
			addPerson('Coco', 1, 'SF', 12);
			addPerson('Cash', 3, 'SF', 32);
			addPerson('George', 27, 'DEN', 150);
			addPerson('Bob', '27', 'SF', 160);
			addPerson('Molly', 6, 'SF', 55);
			addPerson('Mambo', 28, 'DEN', 6);
		});
		
		function listen(ref) {
			ref.on('value', function(snap) { 
				console.log(snap.val());
			});
		}
		
		function addPerson(name, age, location, weight) {
			queryRef.push({
				name: name,
				age: age,
				location: location,
				weight: weight
			});
		}
		
		function numberify(string) {
			var chars = string.split('');
			var values = chars.map(function(char) {
				return char.charCodeAt(0);
			});
			return values.join('');
		}
		
	</script>

</body>
</html>