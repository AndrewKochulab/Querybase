<!DOCTYPE html>
<html>

<head>
	<script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
	<script src="querybase.js"></script>
	<meta charset="utf-8">
	<title>Querybase</title>
</head>

<body>

	<button id="btnSeed">Seed</button>
	<script>
		// Initialize Firebase
		var config = {
			apiKey: "AIzaSyBonePK0eTlXuhy3Oy0KYc6g1_UrVtEXqs",
			authDomain: "querybase-b565d.firebaseapp.com",
			databaseURL: "https://querybase-b565d.firebaseio.com",
			storageBucket: "querybase-b565d.appspot.com",
		};
		firebase.initializeApp(config);

		var ref = firebase.database().ref();
		var peopleRef = ref.child("people");
		var queryRef = new Querybase(peopleRef, ['name', 'age', 'location', 'weight']);
		
		btnSeed.addEventListener('click', function(e) {
			peopleRef.remove();
			addPerson('David_East', 27, 'SF', 125);
			addPerson('Shannon', 28, 'SF', 115);
			addPerson('Coco', 1, 'SF', 12);
			addPerson('Cash', 3, 'SF', 32);
			addPerson('George', 27, 'DEN', 150);
			addPerson('Bob', '27', 'SF', 160);
			addPerson('Molly', 6, 'SF', 55);
			addPerson('Mambo', 4, 'DEN', 6);
		});
		
		function listen(ref) {
			ref.on('value', function(snap) { 
				console.log(snap.val());
			});
		}
		
		function addPerson(name, age, location, weight) {
			queryRef.push({
				name: name,
				age: age,
				location: location,
				weight: weight
			});
		}
	</script>

</body>

</html>