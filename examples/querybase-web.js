!function e(r,t,n){function i(u,s){if(!t[u]){if(!r[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);var y=new Error("Cannot find module '"+u+"'");throw y.code="MODULE_NOT_FOUND",y}var f=t[u]={exports:{}};r[u][0].call(f.exports,function(e){var t=r[u][1][e];return i(t?t:e)},f,f.exports,e,r,t,n)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(e,r,t){var n=e("./QuerybaseUtils"),i=e("./QuerybaseQuery"),o=e("./QuerybaseIndex"),u=function(){function e(e,r){var t=this;this._=new n.QuerybaseUtils,this.ref=function(){return e},this.indexOn=function(){return r},this.key=function(){return t.ref().key()};var i=o.indexify(r,this._.arrayToObject(r));this._warnAboutIndexOnRule(i)}return e.prototype.set=function(e){var r=o.indexify(this.indexOn(),e);this.ref().set(r)},e.prototype.update=function(e){var r=o.indexify(this.indexOn(),e);this.ref().update(r)},e.prototype.push=function(e){if(!e)return this.ref().push();var r=o.indexify(this.indexOn(),e);this.ref().push(r)},e.prototype.remove=function(){return this.ref().remove()},e.prototype.onDisconnect=function(){return this.ref().onDisconnect()},e.prototype.child=function(r,t){return new e(this.ref().child(r),t||this.indexOn())},e.prototype.where=function(e){if(this._.isString(e))return new i.QuerybaseQuery(this.ref().orderByChild(e));var r=this._.keys(e),t=this._.values(e);if(this._.hasMultipleCriteria(r)){var n="_"+r.join("_"),o=t.join("_");return this.ref().orderByChild(n).equalTo(o)}return this.ref().orderByChild(r[0]).equalTo(t[0])},e.prototype._createIndexes=function(e,r,t){var n=this,i=e.slice(),u=i.shift();return t=t||{},i.forEach(function(e){var o="",s="";t["_"+n._.createKey(u,e)]=n._.createKey(r[u],r[e]),i.forEach(function(e){o=n._.createKey(o,e),s=n._.createKey(s,r[e])}),t["_"+u+o]=r[u]+s}),0!==i.length&&o.indexify(i,r,t),t},e.prototype._warnAboutIndexOnRule=function(e){var r=this._.merge(e,this._.arrayToObject(this.indexOn())),t='\n"'+this._.getPathFromRef(this.ref())+'": {\n  "._indexOn": ['+this._.keys(r).map(function(e){return'"'+e+'"'}).join(", ")+"]\n}";console.warn("Add this rule to drastically improve performance of your Firebase queries: \n "+t)},e}();t.Querybase=u},{"./QuerybaseIndex":2,"./QuerybaseQuery":3,"./QuerybaseUtils":4}],2:[function(e,r,t){function n(e,r,t){var i=e.slice(),u=i.shift();return t=t||{},i.forEach(function(e){var n="",s="";t["_"+o.createKey(u,e)]=o.createKey(r[u],r[e]),i.forEach(function(e){n=o.createKey(n,e),s=o.createKey(s,r[e])}),t["_"+u+n]=r[u]+s}),0!==i.length&&n(i,r,t),t}var i=e("./QuerybaseUtils"),o=new i.QuerybaseUtils;t.indexify=n},{"./QuerybaseUtils":4}],3:[function(e,r,t){var n=function(){function e(e){this.query=e}return e.prototype.lessThan=function(r){return new e(this.query.endAt(r))},e.prototype.greaterThan=function(e){return this.query.startAt(e)},e.prototype.equalTo=function(e){return this.query.equalTo(e)},e.prototype.startsWith=function(e){var r=e.substr(0,1);return this.query.startAt(r).endAt(e+"ï£¿")},e.prototype.between=function(e,r){return this.query.startAt(e).endAt(r)},e}();t.QuerybaseQuery=n},{}],4:[function(e,r,t){var n=function(){function e(){}return e.prototype.isString=function(e){return"string"==typeof e||e instanceof String},e.prototype.hasMultipleCriteria=function(e){return e.length>1},e.prototype.createKey=function(e,r){return e+"_"+r},e.prototype.getPathFromRef=function(e){var r=3,t=e.toString().split("/");return t.slice(r,t.length).join("/")},e.prototype.merge=function(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t},e.prototype.keys=function(e){return Object.keys(e)},e.prototype.values=function(e){return Object.keys(e).map(function(r){return e[r]})},e.prototype.arrayToObject=function(e){var r={};return e.forEach(function(e){return r[e]=e}),r},e.prototype.sortLexicographically=function(e){return function(r,t){return r[e].localeCompare(t[e])}},e.prototype.stripKeys=function(e,r){void 0===r&&(r="_");var t=Object.create(e);this.keys(t).forEach(function(e){e.substr(0,1)===r&&delete t[e]})},e.prototype.copy=function(e){if(null==e||"object"!=typeof e)return e;var r=e.constructor();for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},e}();t.QuerybaseUtils=n},{}],5:[function(e,r,t){var n=e("./Querybase"),i=e("./QuerybaseUtils"),o=e("./QuerybaseQuery"),u=e("./QuerybaseIndex");window.Querybase=n.Querybase,window.QuerybaseUtils=i.QuerybaseUtils,window.QuerybaseQuery=o.QuerybaseQuery,window.Querybase.indexify=u.indexify},{"./Querybase":1,"./QuerybaseIndex":2,"./QuerybaseQuery":3,"./QuerybaseUtils":4}]},{},[5]);
//# sourceMappingURL=querybase-web.js.map
